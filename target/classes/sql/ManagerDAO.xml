<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.show.movie.model.dao.ManagerDAO">
 
 	<resultMap id="movie" type="movie">
		<id column="movieCode" property="movieCode" />
		<result column="movieName" property="movieName" />
		<result column="movieAudience" property="movieAudience" />
		<result column="movieTicketRate" property="movieTicketRate" />
		<result column="movieTitle" property="movieTitle" />
		<result column="movieSynopsis" property="movieSynopsis" />
		<result column="moviePrice" property="moviePrice" />
		<result column="moviePoster" property="moviePoster" />
		<result column="moviePosterBG" property="moviePosterBG" />
		<result column="movieImages" property="movieImages" />
		<result column="movieTime" property="movieTime" />
	</resultMap> 

	<insert id="insertMovie">
		INSERT INTO movie (managerCode, movieName, movieSynopsis, moviePoster,
		moviePosterBG, movieImages, movieTime)
		VALUES ( ( SELECT managerCode FROM manager where managerId=#{manager.managerId}), 
				#{movieName}, #{movieSynopsis}, #{moviePoster},#{moviePosterBG},
				#{movieImages},#{movieTime})
	</insert>
 


 </mapper> 
  
  